<!--
  Generated template for the DashboardSitoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar hideBackButton>
        <ion-buttons left>
            <button (click)="back()" ion-button icon-left clear>
                <ion-icon name="arrow-back"></ion-icon>
            </button>
        </ion-buttons>
        <ion-buttons end>
            <div class="icon-section">
                <i [ngClass]="icon" [ngStyle]="{'color' : color }"></i>
            </div>
        </ion-buttons>
        <ion-title>Prescrizione</ion-title>
    </ion-navbar>
</ion-header>

<ion-segment [(ngModel)]="whichPage">
    <ion-segment-button value="Prescrizione" checked (ionSelect)="segmentPrescrizioneClicked($event)">
        <ion-icon name="list"></ion-icon>
        <ion-label>Prescrizione</ion-label>
    </ion-segment-button>
    <ion-segment-button value="Allegati" (ionSelect)="segmentAllegatiClicked($event)">
        <ion-icon name="document"></ion-icon>
        <ion-label>Allegati</ion-label>
    </ion-segment-button>
    <ion-segment-button value="Attività" (ionSelect)="segmentAttivitaClicked($event)">
        <ion-icon name="locate"></ion-icon>
    </ion-segment-button>
    <!-- <ion-segment-button value="Proroghe" (ionSelect)="segmentProrogheClicked($event)">
<ion-label>Proroghe</ion-label>
</ion-segment-button> -->
</ion-segment>

<ion-content padding>
    <div [ngSwitch]="whichPage">
        <ion-list *ngSwitchCase="'Prescrizione'">
            <ion-item color="primary-lighter" class="ion-section-title">
                <ion-label>Prescrizione</ion-label>
            </ion-item>
            <div *ngIf="selectedPrescrizione">
                <ion-list-header text-wrap>
                    <h3>{{comunicazioneTitolo}}</h3>
                </ion-list-header>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Sito </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.az_ragione_sociale}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Descrizione </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_descrizione}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Data </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_data_emissione}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Tipo </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.tab_tipo_prescrizione_desc}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Ente di controllo </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.ec_nominativo}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Vincolata </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_vincolata}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Pre Capo Terzi </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_capo_terzi}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Pre di rilevanza </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_di_rilevanza}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Data di scadenza </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_data_scadenza}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Data di realizzazione </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_data_realizzazione}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Note </p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{selectedPrescrizione.pre_note}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
            </div>
        </ion-list>
        <ion-list *ngSwitchCase="'Allegati'">
            <ion-item color="primary-lighter" class="ion-section-title">
                <ion-label>Allegati</ion-label>
            </ion-item>
            <ion-item *ngFor="let f of selectedPrescrizione.pre_files">
                <ion-thumbnail item-start>
                    <img src="/assets/imgs/ios-doc-icon.png">
                </ion-thumbnail>
                <h3>{{f.prf_file}}</h3>
            </ion-item>
        </ion-list>
        <ion-list *ngSwitchCase="'Attività'">
            <ion-item color="primary-lighter" class="ion-section-title">
                <ion-label>Attivit&agrave;</ion-label>
            </ion-item>
            
            <div *ngFor="let a of selectedPrescrizione.pre_attivita">
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Titolo</p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{a.titolo}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Tipologia</p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{a.tipologia}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Fine</p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{a.fine}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
                <ion-item text-wrap>
                    <ion-grid no-padding>
                        <ion-row>
                            <ion-col>
                                <p>Stato</p>
                            </ion-col>
                            <ion-col col-8 text-right>
                                <p>{{a.stato}}</p>
                            </ion-col>
                        </ion-row>
                    </ion-grid>
                </ion-item>
            </div>
        </ion-list>
    </div>

</ion-content>